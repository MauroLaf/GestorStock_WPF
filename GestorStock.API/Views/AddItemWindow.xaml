<Window x:Class="GestorStock.API.Views.AddItemWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Agregar Ítem"
        Width="900" Height="600"
        WindowStartupLocation="CenterOwner">

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Cabecera -->
        <Grid Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="120"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="60"/>
                <ColumnDefinition Width="60"/>
                <ColumnDefinition Width="120"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="60"/>
                <ColumnDefinition Width="60"/>
            </Grid.ColumnDefinitions>

            <!-- Proveedor -->
            <TextBlock Grid.Column="0" Text="Proveedor:" VerticalAlignment="Center"/>
            <ComboBox x:Name="cmbProveedor" Grid.Column="1" DisplayMemberPath="Nombre" />
            <Button Grid.Column="2" x:Name="btnAddProveedor"  Content="+" Click="btnAddProveedor_Click"/>
            <Button Grid.Column="3" x:Name="btnDelProveedor"  Content="-" Click="btnDelProveedor_Click"/>

            <!-- Familia -->
            <TextBlock Grid.Column="4" Text="Familia:" VerticalAlignment="Center" Margin="8,0,0,0"/>
            <ComboBox x:Name="cmbFamilia" Grid.Column="5" DisplayMemberPath="Nombre" SelectionChanged="cmbFamilia_SelectionChanged"/>
            <Button Grid.Column="6" x:Name="btnAddFamilia"  Content="+" Click="btnAddFamilia_Click"/>
            <Button Grid.Column="7" x:Name="btnDelFamilia"  Content="-" Click="btnDelFamilia_Click"/>

            <!-- Fila 2 -->
            <TextBlock Grid.Column="0" Grid.Row="1" Text="Ubicación/Producto:" VerticalAlignment="Center"/>
            <ComboBox x:Name="cmbUbicacion" Grid.Column="1" Grid.Row="1" DisplayMemberPath="Nombre"/>
            <Button Grid.Column="2" Grid.Row="1" Content="+" Click="btnAddUbicacion_Click"/>
            <Button Grid.Column="3" Grid.Row="1" Content="-" Click="btnDelUbicacion_Click"/>

            <TextBlock Grid.Column="4" Grid.Row="1" Text="Tipo de Soporte:" VerticalAlignment="Center" Margin="8,0,0,0"/>
            <ComboBox x:Name="cmbTipoSoporte" Grid.Column="5" Grid.Row="1" DisplayMemberPath="Nombre"/>
            <Button Grid.Column="6" Grid.Row="1" Content="+" Click="btnAddSoporte_Click"/>
            <Button Grid.Column="7" Grid.Row="1" Content="-" Click="btnDelSoporte_Click"/>

            <!-- Fila 3 -->
            <TextBlock Grid.Column="0" Grid.Row="2" Text="Repuesto:" VerticalAlignment="Center"/>
            <ComboBox x:Name="cmbRepuestoCat" Grid.Column="1" Grid.Row="2" Grid.ColumnSpan="4"
                      DisplayMemberPath="Nombre"/>
            <Button Grid.Column="6" Grid.Row="2" Content="+" Click="btnAddRepuestoCat_Click"/>
            <Button Grid.Column="7" Grid.Row="2" Content="-" Click="btnDelRepuestoCat_Click"/>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
        </Grid>

        <!-- Detalle local (líneas preparadas para devolver a CreatePedidoWindow) -->
        <DataGrid x:Name="dgTemp" Grid.Row="1" AutoGenerateColumns="False" CanUserAddRows="False"
                  IsReadOnly="True" SelectionMode="Single">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Nombre"      Binding="{Binding Nombre}" Width="200"/>
                <DataGridTextColumn Header="Descr"       Binding="{Binding Descripcion}" Width="*"/>
                <DataGridTextColumn Header="Cantidad"    Binding="{Binding Cantidad}" Width="80"/>
                <DataGridTextColumn Header="Precio"      Binding="{Binding Precio}" Width="100"/>
                <DataGridTextColumn Header="Tipo"        Binding="{Binding TipoSoporte.Nombre}" Width="140"/>
                <DataGridTextColumn Header="Ubicación"   Binding="{Binding UbicacionProducto.Nombre}" Width="200"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Botonera -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
            <Button Content="Agregar Repuesto" Click="BtnAgregarRepuesto_Click" Margin="0,0,8,0"/>
            <Button Content="Editar Repuesto"  Click="BtnEditarRepuesto_Click"  Margin="0,0,8,0"/>
            <Button Content="Eliminar Repuesto" Click="BtnEliminarRepuesto_Click" Margin="0,0,8,0"/>
            <Button Content="Aceptar" IsDefault="True" Click="BtnAceptar_Click" Margin="0,0,8,0"/>
            <Button Content="Cancelar" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
