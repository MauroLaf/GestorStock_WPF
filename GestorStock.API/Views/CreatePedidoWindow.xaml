<Window x:Class="GestorStock.API.Views.CreatePedidoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Pedido"
        Width="1000" Height="650"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Cabecera -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
            <TextBlock Text="Familia:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <ComboBox x:Name="cmbFamilia" Width="220" DisplayMemberPath="Nombre" Margin="0,0,12,0"
                      SelectionChanged="cmbFamilia_SelectionChanged"/>
            <TextBlock Text="Ubicación:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <ComboBox x:Name="cmbUbicacion" Width="280" DisplayMemberPath="Nombre" Margin="0,0,12,0"/>
            <TextBlock Text="Proveedor:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <ComboBox x:Name="cmbProveedor" Width="220" DisplayMemberPath="Nombre" Margin="0,0,12,0"/>
            <TextBlock Text="Tipo Soporte:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <ComboBox x:Name="cmbTipoSoporte" Width="180" DisplayMemberPath="Nombre"/>
        </StackPanel>

        <!-- Detalle -->
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                <Button Content="Agregar línea" Click="BtnAgregarLinea_Click" Margin="0,0,8,0"/>
                <Button Content="Editar línea"  Click="BtnEditarLinea_Click"  Margin="0,0,8,0"/>
                <Button Content="Quitar línea"  Click="BtnQuitarLinea_Click"/>
            </StackPanel>

            <DataGrid x:Name="dgRepuestos" Grid.Row="1" AutoGenerateColumns="False" CanUserAddRows="False" SelectionMode="Single">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Nombre"       Binding="{Binding Nombre}"                    Width="220"/>
                    <DataGridTextColumn Header="Descripción"  Binding="{Binding Descripcion}"               Width="*"/>
                    <DataGridTextColumn Header="Cantidad"     Binding="{Binding Cantidad}"                  Width="80"/>
                    <DataGridTextColumn Header="Precio"       Binding="{Binding Precio}"                    Width="100"/>
                    <DataGridTextColumn Header="Tipo"         Binding="{Binding TipoSoporte.Nombre}"        Width="140"/>
                    <DataGridTextColumn Header="Ubicación"    Binding="{Binding UbicacionProducto.Nombre}"  Width="220"/>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>

        <!-- Botonera -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
            <Button Content="Guardar"  Click="BtnGuardar_Click" Margin="0,0,8,0"/>
            <Button Content="Cancelar" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
